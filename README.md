# Sound Converter для Minecraft

Утилита для конвертации аудиофайлов в формат OGG Vorbis, оптимизированный для использования в Minecraft.

## Описание

Скрипт автоматически конвертирует аудиофайлы (M4A, MP3, OGG) в формат OGG Vorbis с параметрами, оптимизированными для Minecraft:
- Моно звук (1 канал)
- Частота дискретизации 44.1kHz
- Качество 5 (средне-высокое, баланс между размером и качеством)
- Автоматическая обрезка тишины в начале и конце файлов

## Требования

### Основные требования
- Python 3.6 или выше
- FFmpeg

### Установка FFmpeg

**Windows:**
1. Скачайте FFmpeg с [официального сайта](https://ffmpeg.org/download.html)
2. Распакуйте архив
3. Добавьте путь к `ffmpeg.exe` в системную переменную PATH

   ИЛИ

4. Поместите `ffmpeg.exe` в папку `bin/` рядом со скриптом

**Linux (Ubuntu/Debian):**
```bash
sudo apt update
sudo apt install ffmpeg
```

**macOS:**
```bash
brew install ffmpeg
```

## Установка

1. Клонируйте или скачайте этот репозиторий
2. Убедитесь, что FFmpeg установлен (см. выше)
3. Создайте папки `input` и `output` (или скрипт создаст их автоматически)

```bash
git clone <repository-url>
cd Sound-Converter
```

## Использование

### Базовое использование

1. Поместите аудиофайлы в папку `input/`
2. Запустите скрипт:

```bash
python convert.py
```

3. Готовые OGG файлы появятся в папке `output/`

### Указание своих папок

Можно указать кастомные папки через аргументы командной строки:

```bash
python convert.py путь/к/входной/папке путь/к/выходной/папке
```

**Примеры:**

```bash
# Windows
python convert.py "C:\Music\Minecraft Sounds" "C:\Minecraft\sounds"

# Linux/macOS
python convert.py ~/music/sounds ~/minecraft/resourcepack/sounds
```

## Поддерживаемые форматы

**Входные форматы:**
- M4A (AAC)
- MP3
- OGG (переконвертация с новыми параметрами)

**Выходной формат:**
- OGG Vorbis (оптимизирован для Minecraft)

## Технические детали

### Параметры конвертации

Скрипт использует следующие настройки FFmpeg:

```
-c:a libvorbis    # Кодек Vorbis
-ac 1             # Моно (1 канал)
-ar 44100         # Частота дискретизации 44.1kHz
-q:a 5            # Качество 5 из 10 (средне-высокое)
```

### Обрезка тишины

Автоматически удаляется тишина:
- В начале файла (порог -50dB, минимум 0.1с)
- В конце файла (порог -50dB, минимум 0.1с)

Это уменьшает размер файлов и улучшает синхронизацию звуков в игре.

### Приоритет поиска FFmpeg

Скрипт ищет FFmpeg в следующем порядке:
1. Системная команда `ffmpeg` (из PATH)
2. `bin/ffmpeg.exe` или `bin/ffmpeg` в папке скрипта
3. `ffmpeg.exe` или `ffmpeg` в папке скрипта (для обратной совместимости)

## Примеры вывода

```
Using system ffmpeg command

Input folder: input
Output folder: output

Found 5 files to convert (m4a: 3, ogg: 1, mp3: 1)

[1/5] Converting music.m4a... ✓
[2/5] Converting sound.ogg... ✓
[3/5] Converting effect.mp3... ✓
[4/5] Converting ambient.m4a... ✓
[5/5] Converting voice.m4a... ✓

Done! Files saved to output
```

## Устранение проблем

### FFmpeg не найден

**Ошибка:**
```
ERROR: ffmpeg not found!
```

**Решение:**
1. Установите FFmpeg в систему (рекомендуется)
2. ИЛИ поместите `ffmpeg.exe` (Windows) или `ffmpeg` (Linux/macOS) в папку `bin/` рядом со скриптом

### Кодировка в Windows

Скрипт автоматически настраивает UTF-8 кодировку для корректного отображения русских символов в консоли Windows.

### Файлы не конвертируются

Проверьте:
1. Есть ли файлы нужного формата в папке `input/`
2. Достаточно ли прав на запись в папку `output/`
3. Не повреждены ли исходные аудиофайлы

## Структура проекта

```
Sound-Converter/
├── convert.py          # Основной скрипт
├── requirements.txt    # Зависимости Python (пусто, используется только ffmpeg)
├── README.md          # Этот файл
├── bin/               # Папка для локального ffmpeg (опционально)
├── input/             # Входные файлы (создается автоматически)
└── output/            # Выходные файлы (создается автоматически)
```

## Лицензия

Этот проект создан для конвертации звуков для Minecraft модов и ресурспаков.

## Changelog

### v1.2
- Добавлена автоматическая обрезка тишины в начале и конце файлов
- FFmpeg перемещен в папку `bin/`

### v1.1
- Приоритет системному FFmpeg над локальным
- Улучшенная обработка ошибок

### v1.0
- Первый релиз
- Поддержка M4A, MP3, OGG форматов
- Автоматическая конвертация в OGG Vorbis для Minecraft
